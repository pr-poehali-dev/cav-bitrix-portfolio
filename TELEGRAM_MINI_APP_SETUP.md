# Настройка Telegram Mini App

## Шаг 1: Создание бота

1. Откройте Telegram и найдите [@BotFather](https://t.me/botfather)
2. Отправьте команду `/newbot`
3. Следуйте инструкциям: введите имя и username бота
4. Сохраните токен бота (начинается с числа, например: `123456789:ABCdefGHIjklMNOpqrsTUVwxyz`)

## Шаг 2: Настройка Mini App

1. Отправьте боту команду `/newapp`
2. Выберите созданного бота из списка
3. Введите название приложения: **Калькулятор услуг ITPOOD**
4. Введите описание: **Рассчитайте стоимость разработки и продвижения**
5. Загрузите фото (квадратное, минимум 640x640px)
6. Загрузите GIF демонстрацию (опционально, можно пропустить `/empty`)
7. **URL приложения**: `https://ваш-домен.ru/tg` (замените на ваш домен после публикации)
8. Короткое название: **ITPOOD**
9. Описание для кнопки: **Открыть калькулятор**

## Шаг 3: Добавление секретов в проект

В редакторе poehali.dev добавьте 2 секрета:

### 1. TELEGRAM_BOT_TOKEN
Вставьте токен, полученный от @BotFather на шаге 1

### 2. TELEGRAM_CHAT_ID
Ваш ID в Telegram:
1. Откройте [@userinfobot](https://t.me/userinfobot)
2. Нажмите Start
3. Скопируйте ваш ID (числовое значение)

## Шаг 4: Проверка работы

1. Откройте вашего бота в Telegram
2. Нажмите на кнопку меню (три полоски) → выберите ваше Mini App
3. Выберите услуги в калькуляторе
4. Нажмите кнопку "Отправить заявку" внизу экрана
5. Проверьте:
   - Лид должен появиться в Битрикс24 на https://itpood.ru
   - Вы должны получить уведомление в Telegram

## Дополнительные команды для BotFather

- `/mybots` - управление ботами
- `/setmenubutton` - изменить кнопку меню для быстрого доступа к Mini App
- `/editapp` - изменить настройки существующего Mini App

## URL для Mini App после публикации

После публикации сайта на домен, замените URL в настройках Mini App:
- Зайдите в @BotFather
- Отправьте `/myapps`
- Выберите ваше приложение
- Нажмите "Edit Web App URL"
- Вставьте: `https://ваш-домен.ru/tg`

## Тестирование локально

Для тестирования локально используйте ngrok или подобный сервис:
```bash
ngrok http 5173
```
Полученный URL вставьте в настройки Mini App как временный.

---

## Полезные ссылки

- [Документация Telegram Mini Apps](https://core.telegram.org/bots/webapps)
- [@BotFather](https://t.me/botfather) - создание и управление ботами
- [@userinfobot](https://t.me/userinfobot) - узнать свой Telegram ID
